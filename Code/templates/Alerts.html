<!doctype html>
<html lang="en">
  <head>
    <!-- Tags Meta Requis -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <!-- Polices de texte -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <!-- Goldman, Roboto  -->
    <link href="https://fonts.googleapis.com/css2?family=Aladin&family=Goldman&family=Gugi&family=Michroma&family=Oswald:wght@200&family=Roboto&display=swap" rel="stylesheet"> 



    <!-- Inclusion Bootstrap CSS et des Bootstrap Icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css">

    <!-- Inclusion Fichier CSS Custom-->
    <link rel="stylesheet" href="../static/Alerts.css">

    <title>Crypt-O-Watch | Your Crypto Wallet</title>
    <link rel="icon" href="../static/logo.PNG" type="image/icon type">
  </head>
  
  <body id="page_body" class="">

    <!-- Barre de Navigation -->
    <section class="">
      <div>
        <img id="bull_top" class="img-fluid" src="../static/home_slider_2.jpg" class="d-inline" alt="...">
      </div>
    </section>
    <nav id="mainNavbar" class="navbar sticky-top navbar-dark navbar-expand-md py-0  mb-3">
      <div class="container-fluid">
        <a href="/Home" class="navbar-brand" id="Logo">
          <img src="../static/logo.PNG" alt="" width="30" height="30" class="d-inline-block align-text-top mt-1">
          Crypt-0-Watch
        </a>
        <button id="nabbar-toggler" class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-lebel="Toggle Navigation" aria-controls="navbarText">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse me-auto" id="navbarText">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a href="/Markets" class="nav-link">Markets</a>
            </li>
            <li class="nav-item">
              <a href="/About" class="nav-link">About</a>
            </li>
            <li class="nav-item">
              <a href="/Contact" class="nav-link">Contact</a>
            </li>
            {% if session['username'] %}
            <li class="nav-item">
              <a href="/Portfolio" class="nav-link">Portfolio</a>
            </li>
            <li class="nav-item">
              <a href="/Alerts" class="nav-link">My Alerts</a>
            </li>
            {% endif %}
          </ul>
          {% if session['username'] %}
          <span class="navbar-text py-0 mb-2 mb-lg-0">
            <a href="/Profile" class="nav-link">My Profile</a>
          </span >
          {% endif %}
          {% if session['username'] %}
          <span class="navbar-text py-0 mb-2 mb-lg-0">
            <a href="/LogOut" class="nav-link">Log Out</a>
          </span >
          {% endif %}
        </div>
      </div>
    </nav>

    <!-- Contenu Principal -->
    <div id="containerFormSignUp" class="container shadow-lg pb-4 my-4" style="background-color: white;">  
      <header class="row mb-4" id="containerFormSignUpHeader">
        <h2 class="pt-4 text-center mb-0">My Alerts</h2>
        <p id="welcome" class="pt-0 pb-2 mb-4 text-center">Don't miss out!</p>
      </header>
      <div class="content">
        <form id="manage_alerts_acc_form" method="post" action="">
          <input type="hidden" name="unique_id" value="#">
          <input type="hidden" name="action" value="manage_alerts_acc">
          <table class="table table-hover">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col" class="text-center">Coin</th>
                <th scope="col" class="text-center">Above </th>
                <th scope="col" class="text-center">Below </th>
                <th scope="col" class="text-center">Valid Until </th>
                <th scope="col" class="text-end">Action</th>
              </tr>
            </thead>
            <tbody>
            {% for item in data %}
              <tr>
                <th scope="col" colspan="1"></th>
                <td colspan="" class="text-center">{{ loop.index }}</td>
                <td colspan="" class="text-center">2.30$</td>
                <td colspan="" class="text-center">1.30$</td>
                <td colspan="" class="text-center">2021-08-29</td>
                <td class="text-end"><a href="#">Delete</a></td>
              </tr>
            {% endfor %}
              <tr>
                <td colspan="18" align="middle"><button id="add_alert" type="button" class="btn btn-warning" >Create an Alert</button></td>
                </tr>
            </tbody>
          </table>
        </form>
        
      </div>
    </div>

    <!-- The Modal -->
<div id="myModal" class="modal">
  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <form action="alert_form" method="post">
      <table class="table table-hover">
          <tbody>
            <tr>
              <th scope="row" colspan="1">Coin</th>
              <td colspan="2" class="text-begin">
                <div class="">
                  <select id="coin" class="custom-select col-md-12 mb-3" name="coin" required >
                    <option selected>Choose Coin</option>
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                    </select>
                </div>
              </td>
            </tr>
            <tr>
              <th scope="row">Above</th>
              <td colspan="2" class="text-begin">
                <input id="above" class="form-control" name="above" required type="text" >
              </td>
            </tr>
            <tr>
              <th scope="row">Below</th>
              <td colspan="2" class="text-begin">
                <input id="below" class="form-control" name="below" required type="text" >
              </td>
            </tr>
            <tr>
              <th scope="row">Valid Until</th>
              <td>
                <div class="md-form md-outline input-with-post-icon datepicker">
                <input placeholder="Select date" type="date" id="example" class="form-control">
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      <button id="savechange" type="submit" class="btn btn-primary" style="background-color: #e9c46a; border-color: #1f1f1f; color: #1f1f1f;">Save Changes</button>
    </form>
  </div>

</div>

      <!-- Copyrights -->
      <div class="footer">
        <p id="copyrights" class="p-4 text-center mb-0">Â©2020-2021 Crypt-O-Watch.com. All rights reserved</p>
      </div>

            <!-- The Modal -->
<div id="myModal" class="modal">
  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <form action="alerts_form" method="post">
      <table class="table table-hover">
          <tbody>
            <tr>
              <th scope="row" colspan="1">Coin</th>
              <td colspan="2" class="text-begin"><input id="coin" name="coin" type="text"></td>
            </tr>
            <tr>
              <th scope="row">Above</th>
              <td colspan="2" class="text-begin"><input id="above" name="above" type="text"></td>
            </tr>
            <tr>
              <th scope="row">Below</th>
              <td colspan="2" class="text-begin"><input id="below" name="below" type="text"></td>
            </tr>
            <tr>
              <th scope="row">Valid Until</th>
              <td colspan="2" class="text-begin"><input id="validuntil" name="validuntil" type="text"></td>
            </tr>
          </tbody>
        </table>
      <button id="apply" type="submit" class="btn btn-primary ">Save Alert</button>
    </form>
  </div>

</div>

    
    <!-- JavaScript -->   
    <!-- jQuery, Popper.js, Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
    <script>
      // Data Picker Initialization
      $('.datepicker').datepicker({inline: true});
    </script>
    <script>
      // Get the modal
var modal = document.getElementById("myModal");

// Get the button that opens the modal
var btn = document.getElementById("add_alert");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on the button, open the modal
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
    </script>
    <script>
      const form = document.querySelector('form');


      function onAddAlert(e) {
        e.preventDefault();
        alert("this works");
      }

      form.addEventListener('submit', onAddAlert)
    </script>

       
  </body>
</html>